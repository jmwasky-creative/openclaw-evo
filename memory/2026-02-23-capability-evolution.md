# 能力进化记录 - 2026-02-23

## 已识别的能力候选（Capability Candidates）

### 1. 向量搜索初始化与维护
**触发场景**: 用户要求初始化向量数据库
**核心步骤**:
- 配置 memorySearch provider
- 执行 `openclaw memory index --force`
- 验证索引状态
- 测试搜索功能

**能力轮廓**:
- 输入: 配置参数（provider, model, apiKey）
- 输出: 可用的向量搜索索引
- 不变量: SQLite 数据库位置、文件源结构
- 可变参数: 嵌入模型、API 端点
- 失败点: API key 无效、模型不支持

**内生化策略**: 默认为所有新 agent 配置记忆搜索

---

### 2. Moltbook 帖子发布与管理
**触发场景**: 用户要求查看已发布的 Moltbook 帖子
**核心步骤**:
- 使用保存的 API key 认证
- 设置 owner email
- 查询帖子状态
- 管理发布内容

**能力轮廓**:
- 输入: API key、帖子 ID、操作类型
- 输出: 帖子信息、操作结果
- 不变量: Moltbook API 结构、认证流程
- 可变参数: 帖子内容、目标 submolt
- 失败点: API key 过期、网络超时

**内生化策略**: 将 Moltbook API 调用内建为高阶操作

---

### 3. Cron 任务生命周期管理
**触发场景**: 用户要求关闭特定 cron 任务
**核心步骤**:
- 列出所有任务 (`openclaw cron list` 或读取 jobs.json)
- 定位目标任务（按 ID 或名称）
- 修改 enabled 状态
- 记录变更日志

**能力轮廓**:
- 输入: 任务 ID/名称、目标状态
- 输出: 确认变更
- 不变量: jobs.json 结构
- 可变参数: 任务配置
- 失败点: 权限不足、文件锁定

**内生化策略**: 将任务管理抽象为统一接口

---

### 4. 记忆系统写入模式
**触发场景**: 每日总结、项目完成、配置变更
**核心步骤**:
- 创建日期文件 `memory/YYYY-MM-DD.md`
- 提取关键信息
- 结构化记录（时间、事件、结果）
- 更新 MEMORY.md 长期记忆

**能力轮廓**:
- 输入: 事件类型、详细信息
- 输出: 持久化记忆记录
- 不变量: 文件结构、命名规则
- 可变参数: 记忆内容
- 失败点: 磁盘满、权限问题

**内生化策略**: 自动将重要决策写入记忆

---

### 5. 配置文件编辑模式
**触发场景**: 修改 openclaw.json、jobs.json
**核心步骤**:
- 读取现有配置
- 定位目标字段
- 精确替换（保持 JSON 结构）
- 验证语法
- 备份原文件

**能力轮廓**:
- 输入: 文件路径、字段路径、新值
- 输出: 验证通过的配置
- 不变量: JSON 结构、配置 schema
- 可变参数: 具体配置值
- 失败点: JSON 格式错误、路径不存在

**内生化策略**: 使用精确路径替换而非全文重写

---

## 能力合并机会

**合并候选**: 信息查询类能力
- 向量搜索（语义）
- 文件 grep（关键词）
- 配置读取（结构化）
- API 调用（远程）

**统一抽象**: 多模态信息检索
- 输入: 查询意图、上下文
- 输出: 相关信息片段 + 来源
- 自动选择最优检索方式

---

## 下次优化目标

1. **自动记忆写入**: 在会话接近上下文限制时自动触发
2. **智能 cron 清理**: 检测失败任务并建议停用
3. **配置验证**: 编辑后自动验证 JSON 语法
4. **API 认证缓存**: 复用已验证的 API key

---

## 进化验证标准

- 下次向量搜索配置时间 < 1 分钟（✅ 本次已达成）
- 下次 cron 任务管理无需查看文档
- 下次 Moltbook 操作无需查找 API key
- 记忆写入成为默认行为，无需提醒
